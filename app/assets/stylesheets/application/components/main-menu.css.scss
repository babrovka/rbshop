$el: '.main-menu';

#{$el}{
  @include box-shadow(0 16px 30px -25px);
  height: $menu-height;
  width: $container;
  margin-left: -$grid-cutter;
  background: #f2f2f2;

  position: relative;
  z-index: 1;
}

#{$el}__left, #{$el}__right{
  @include inline-block(middle);
}

#{$el}__left.m-menu{ width: 830px;}
#{$el}__right.m-user-bar{ width: 220px;}
#{$el}__right.m-cart{ width: 150px;}

#{$el}__left { padding: 0 $grid-cutter 0;}
#{$el}__right{ padding-right: $grid-cutter; }


// рутовый уровень меню
#{$el}__root{
  > #{$el}__item {
    @include inline-block(middle);
    + #{$el}__item { margin-left: $font-size-base*2; }

    // особый стиль под заголовок имени пользователя
    // у которого тоже есть выпадающее меню
    &.m-user-name > a{
      color: $color-blue;
      border-style: dashed;
    }

    // только первый уровень ссылок
    > a{
      @include unstyled-link;
      color: $color-orange-d;
      font-family: $font-family-proxima-nova-semibold;
      line-height: $menu-height;

      &:after{
        @include inline-block(middle);
        padding-left: .4em;
        content: '\f078';
        font-family: FontAwesome;
        font-size: .7em;
      }
    }
  }
}


// специальная заглушка
// основное назначение,чтобы при движении мыши с главного пункта
// на выпадающее меню,не происходило переключения на соседний пункт меню справа
#{$el}__block{
  height: $menu-height;
  position: absolute;
  width: 5%;
  display: none;
  cursor: pointer;
}


// выпадающий уровень меню
#{$el}__2level{
  background: $color-logo;
  padding: $font-size-base*2 $font-size-base*3;
  margin-left: -$grid-cutter;
  position: absolute;
  opacity: 0;
  visibility: hidden;
  @include transform(translateY(-100px));
  @include transition(transform .2s ease-in-out, opacity .05s ease-in-out);


  // подменю у пользователя имеет особенный стиль
  &.m-user-name{ max-width: 240px; }


  // стрелка
  &:before{
    $width: 8px;
    content: '';
    display: block;
    width: 0;
    height: 0;
    border-style: solid;
    border-width: 0 $width $width $width;
    border-color: transparent transparent $color-logo transparent;
    position: absolute;
    top: -$width;
    left: $font-size-base*3 + $width;
  }

  // типы подменю, выравниваются по линии
  > #{$el}__item-title {
    @include inline-block(top);
    width: 200px;

    // заголовок типа подменю
    // <для лица> например
    > a{
      @include unstyled-link;
      font-family: $font-family-proxima-nova-bold;
      color: $color-asphalt;
      font-size: 16px;
      cursor: default;
    }

    ul{
      margin-top: 1em;
      &:empty{ margin-top: 0; }
    }

    // ссылка в конкретном типе подменю
    #{$el}__item{
      margin-bottom: .7em;
      a {
        @include link-variant($color-asphalt, white);
        display: inline;
        font-family: $font-family-proxima-nova-semibold;
        font-size: $font-size-base;
      }
    }
  }
}

#{$el}__root > #{$el}__item.m-active{
  #{$el}__block{ @include inline-block(top); }

  #{$el}__2level{
    display: block;
    visibility: visible;
    opacity: .99;

    @include transform(translateY(-1px));
    @include transition(transform .1s ease-in-out, opacity .3s ease-in-out);
  }

  // пустое меню не показываем
  #{$el}__2level:empty{ background: transparent; }
}


.js-dropdown-menu{

}

.js-dropdown-menu__2level{

}